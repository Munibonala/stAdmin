<div *ngIf="loading" class="app-loading"></div>
<div class="container-fluid p-0">
    <div class="text-center bg-light p-3">
        <h5 class="">
            Referrals Data <span class="float-right hover text-right" (click)="closeTab()">
                <img width="40" style="border-radius: 50%; padding: 10px;" src="../../../assets/criss_cross.png">
            </span></h5>
    
    </div>
    <br>
    <div class=" d-flex ml-2">
        <span class="font-weight-bold">Referred By </span>&nbsp; : &nbsp; <span class="f-14"> {{referralData[0].referByUserID}}</span>
    </div>
    <div class="table-responsive mt-3" *ngIf="referralData && referralData.length">
        <table class="table table-sm px-1 text-center">
            <thead>
                <tr>
                  <th scope="col">Amount</th>
                  <th scope="col">Affiliate</th>
                  <th scope="col">Title</th>
                  <th scope="col">Date</th>
                  <th scope="col">Action</th>
                  <th scope="col ml-2">Status</th>
                </tr>
              </thead>
           <tbody>
            <tr *ngFor="let referral of referralData; let i = index">
                <td> RM {{referral.earnAmount}}</td>
                <td>{{referral.referToUserID}}</td>
                <td>{{referral.taskTitle}}</td>
                <td>{{referral.earningTimeStamp | date}}</td>
                <td><span class="f-14 hover text-red" (click)="markAsPaid(referral,i)" *ngIf="!referral.isTransferStatus">Mark as paid</span>
                    <span class="f-14 hover text-success" *ngIf="referral.isTransferStatus">
                      <img src="../../../assets/check.png" width="22">
                    </span></td>
                <td><span class="f-14 text-red" *ngIf="!referral.isTransferStatus"> Unpaid</span>
                    <span class="f-14 text-success" *ngIf="referral.isTransferStatus">Paid</span></td>
            </tr>
           </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-center" style="min-height: 60vh;" *ngIf="referralData && !referralData.length">
    <h2 class="align-self-center">{{referalMsg}}</h2>
    </div>
</div>