<div class="text-center bg-light p-3">
    <h5 class="">
        {{headings}} <span class="float-right hover text-right" (click)="closeTab()">
            <img width="40" style="border-radius: 50%; padding: 10px;" src="../../../assets/cancel.png">
        </span></h5>
</div>

<div class="container-fluid scroll position-relative" style="max-height: 65vh; overflow-y: auto;min-height: 45vh;" #mainScroll>
    <div class="row" *ngIf="offers && offers.length">
        <div class="col-md-12 " *ngFor="let offer of offers; let i = index">
            <div class="d-flex">
                <div class="px-3 py-1">
                    <img src="{{baseUrl+offer.profilePic}}" (click)="showUserProfile(offer.offeredUserID)" width="40" height="40" class="rounded-circle" *ngIf="offer.authorProfilePic != '' ">
                    <img src="https://stagingapi.startasker.com/user.png" width="40" height="40" class="rounded-circle" *ngIf="offer.authorProfilePic == '' ">
                </div>
                <div class="align-self-center" style="line-height: 20px;">
                    <small>{{offer.name}}</small><br>
                    <!-- <ngb-rating rate="{{offer.authorRatings}}" [starTemplate]="t" [readonly]="true" [max]="5">
                        <ng-template #t let-fill="fill">
                        <span class="star" [class.full]="fill === 100">
                          <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                        </span>
                      </ng-template>
                      </ngb-rating> -->
                </div>
                <span style="display: flex; flex: 1 1 auto;"></span>
                <div class="align-self-center d-flex" style="font-weight: 700;">
                    <div class="m-2 d-flex justify-content-between" >
                        <span (click)="deleteComment(offer,i)" class="hover">
                        <img src="../../../assets/delete.png" width="14">
                        </span>
                        <span class="text-info ml-2 hover" (click)="editComment(i,offer)">
                            <i class="fa fa-edit" aria-hidden="true"></i>
                        </span>
                    </div>
                </div>
            </div>
            <div>
               <div class="p-1" >
                <div class="p-2 bg-light" style="font-weight: 500; border-radius: 15px; margin-left: 3vw;">
                   <small> {{offer.message}}</small>
                </div>
                <div class="d-flex" style="margin-left: 3vw;">
                    <span class="px-3">
                        <small class="small"> 
                            {{offer.timestamp | date}}
                        </small>
                    </span>
                </div>
               </div>
            </div>
        </div>
    </div>
    <div class="row justify-content-center" style="min-height: 30vh;" *ngIf="offers && !offers.length">
        <h6 class="align-self-center">
            No Messages for this Offer..
        </h6>
    </div>
</div>
<div class="container-fluid">
    <div class="row mb-3" *ngIf="isEditing">
        <div class="col-md-12">
            <form>
                <div class="d-flex">
                    <textarea class="form-control" name="message" [(ngModel)]="offers[messageIndex].message" rows="1"></textarea> <span (click)="sendEdited()" class="hover"><img src="../../../assets/send.png" width="40"></span>
                </div>
            </form>
        </div>
    </div> 
</div>